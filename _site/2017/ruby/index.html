<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      ruby &middot; Taiyi's blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/custom.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0b">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Taiyi's blog
        </a>
      </h1>
      <p class="lead"></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/Archive/">Archives</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      
			
	
	<li>
		<a href="https://github.com/moved0311">
		   <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-github fa-stack-1x icon"></i>
          </span>
		</a>
	</li>
	

	
	  <li>
		<a href="https://www.facebook.com/100000329876068">
		  <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-facebook fa-stack-1x icon"></i>
          </span>
		</a>
	  </li>
	

    </nav>

    <p>&copy; 2017. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">ruby</h1>
  <span class="post-date">21 Feb 2017</span>
  <h4 id="安裝rvm">安裝rvm</h4>
<ol>
  <li><code class="highlighter-rouge">gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3</code></li>
  <li><code class="highlighter-rouge">\curl -sSL https://get.rvm.io | bash -s stable</code></li>
  <li><code class="highlighter-rouge">source /home/taiyi/.rvm/scripts/rvm</code></li>
</ol>

<!--more-->

<h4 id="安裝ruby">安裝ruby</h4>
<ol>
  <li>rvm install ruby-2.4.0</li>
  <li>/bin/bash –login</li>
  <li>gem i awesome_print (ap 更好看的顏色)</li>
</ol>

<h4 id="測試">測試</h4>
<ol>
  <li>ruby -v</li>
  <li>用irb進入測試模式</li>
</ol>

<h4 id="語法">語法</h4>
<p>(123).class<br />
(-123).class<br />
所有東西都是物件,用.class可以看種類</p>

<p>(123).methods<br />
列出class所有可以用的methods</p>

<p>ruby的null叫nil</p>

<h4 id="字串連接">字串連接</h4>
<p>x = 999<br />
puts “hello#{x}world”</p>

<h4 id="hash">hash</h4>
<p>{:wer =&gt; 123, :sdf =&gt; 234}[:wer] //123<br />
{wer: 123, sdf: 234} //冒號不能離開字<br />
{:wer =&gt; 123, :sdf =&gt; 234}.keys<br />
{:wer =&gt; 123, :sdf =&gt; 234}.values<br />
“wer”.class		//String<br />
:wer.class		//Symbol<br />
key不適合用String 因為String會new新的物件而Symbol不會<br />
2.4.0 :011 &gt; “wer”.object_id<br />
 =&gt; 18016080 <br />
2.4.0 :012 &gt; “wer”.object_id<br />
 =&gt; 18575560<br />
2.4.0 :013 &gt; :wer.object_id<br />
 =&gt; 1168348 <br />
2.4.0 :014 &gt; :wer.object_id 
 =&gt; 1168348</p>

<h4 id="迴圈">迴圈</h4>
<p>2.4.0 :015 &gt; [1,”wer”,3,4,5,111].each do |x|<br />
2.4.0 :016 &gt;     puts x<br />
2.4.0 :017?&gt;   end<br />
1<br />
wer<br />
3<br />
4<br />
5<br />
111<br />
 =&gt; [1, “wer”, 3, 4, 5, 111]</p>

<h4 id="流程控制">流程控制</h4>
<p>unless true<br />
  puts 123<br />
  else<br />
    puts 234<br />
  end 
//234</p>

<p>if true<br />
  puts 234<br />
  else<br />
    puts 234567<br />
  end</p>

<p>// 234</p>

<p>x = 3<br />
case x<br />
  when 1<br />
  puts 1<br />
  when 2<br />
  puts 2<br />
  when 3<br />
  puts 3<br />
  end<br />
3</p>

<p>x = 0<br />
while true<br />
  x += 1<br />
  puts x<br />
  break if x &gt; 10<br />
  end<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8 
9<br />
10<br />
11</p>

<h4 id="定義methods">定義methods</h4>
<p>def temp1<br />
  puts 123<br />
  end<br />
temp1 或 temp1()<br />
123</p>

<p>def temp2(x) 
  puts x 
  end<br />
temp2(999)<br />
999</p>

<p>def temp3 x  //可以做縮寫<br />
  puts x<br />
  end <br />
temp3 888 <br />
888</p>

<p>def temp4 (x ,y = 1, <em>argv, &amp;block)  //</em>argv多餘的值,block方法<br />
	block.call(x, y, argv)<br />
	end <br />
temp4 1,2,3 do |x,y,argv|<br />
	ap [x,y,argv]<br />
	end<br />
[<br />
    [0] 1, 
    [1] 2, <br />
    [2] [<br />
        [0] 3<br />
    ] <br />
]</p>

<p>def temp5(&amp;block)<br />
	puts block.class<br />
	block.call(99)  <br />
	end<br />
temp5{|x| puts x}<br />
99</p>

<h4 id="class">Class</h4>
<p>class Car<br />
  def self.hihi<br />
    puts ‘yoo’<br />
    end<br />
  def hihi<br />
    puts ‘hoo’<br />
    end<br />
  end<br />
car = Car.new<br />
Car.hihi	//Car call self.hihi<br />
yoo<br />
car.hihi	//car call hihi<br />
hoo</p>

<p>class Car  <br />
  def set_color(color)<br />
    @color = color		#@color instance varible<br />
    end<br />
  def get_color<br />
    @color<br />
    end<br />
  end<br />
 =&gt; :get_color <br />
blue_car = Car.new <br />
red_car = Car.new<br />
blue_car.set_color(‘BLUE’)<br />
 =&gt; “BLUE” <br />
red_car.set_color(‘RED’)<br />
 =&gt; “RED” <br />
blue_car.get_color<br />
 =&gt; “BLUE” <br />
red_car.get_color <br />
 =&gt; “RED”</p>

<p>@name		#instance varible<br />
@@name		#Car在用的 class varible<br />
$name		#global varible</p>

<p>@moo ||= 123  等價於 @moo = 123 unless @moo<br />
如果@moo沒有值就設定123,有就不動</p>

<h4 id="繼承">繼承</h4>
<p>class Hihi<br />
  def self.nono<br />
    puts 123<br />
    end<br />
  end<br />
class Moo &lt; Hihi ( &lt; inherit)<br />
  end<br />
Moo.nono<br />
123</p>

<p>class Animal<br />
  def say 
    puts “hi”<br />
    end<br />
  end<br />
 =&gt; :say <br />
class Cat &lt; Animal<br />
  def say <br />
    puts “meow”<br />
    super			(use father’s method)<br />
    end<br />
  end<br />
Cat.new.say<br />
//meow<br />
//hi</p>

<p>module A		＃module不能被new<br />
  def hihi<br />
    puts “hihi”<br />
    end<br />
  end<br />
class B<br />
  include A 	#use other module -&gt; include<br />
  end<br />
B.new.hihi<br />
#hihi</p>

<h1 id="regular-expression">regular expression</h1>
<p>regex = /(A-Z)([12])\d{8}/<br />
 =&gt; /(A-Z)([12])\d{8}/ <br />
match = “A145645645”.match(regex)<br />
regex = /([A-Z])([12])\d{8}/<br />
match = “A145645645”.match(regex)<br />
match[0]<br />
 =&gt; “A145645645” <br />
match[1]<br />
 =&gt; “A”<br />
match[2]<br />
 =&gt; “1”</p>

<h4 id="marshal">Marshal</h4>
<p>兩台伺服器要共用一些變數<br />
用Marshal.load載回來</p>

<p>＃Thread<br />
10.times do |i|<br />
    Thread.new do<br />
      sleep rand(5) + 1<br />
    puts i<br />
    end<br />
  end<br />
9<br />
0<br />
4 <br />
5<br />
1<br />
286<br />
7<br />
3</p>

<h4 id="exception">Exception</h4>
<p>begin<br />
    lasjdflsdk<br />
  rescue <br />
  puts $! , $@ 
  end</p>

<p>asdf rescue “you are error”<br />
 =&gt; “you are error”</p>

<h4 id="call-system">Call System</h4>
<p>`pwd` 或 system(‘pwd’)</p>

<h4 id="gem">gem</h4>
<p>gem install packageName ( = gem i packageName)</p>

<h4 id="教學網站">教學網站</h4>
<p><a href="https://www.youtube.com/watch?v=6XUnYRB0Zpo">RailsFun.tw 新手教學 day1 HD</a></p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2017/rails/">
            rails
            <small>22 Feb 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/mysql/">
            mysql
            <small>22 Feb 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/git/">
            git practice
            <small>21 Feb 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
